(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{45:function(e,t,s){},47:function(e,t,s){},57:function(e,t,s){"use strict";s.r(t);var c=s(2),r=s.n(c),n=s(20),a=s.n(n),i=(s(45),s(46),s(47),s(33)),l=s(34),o=s(40),d=s(39),u=s(10),j=s(26),b=s(21),h=s(22);s(59),s(58),s(52);h.a.apps.length?h.a.app():h.a.initializeApp({apiKey:"AIzaSyCojwpSJpdp7bPZnR34ZptAvUwjnc-6_as",authDomain:"movies-directory.firebaseapp.com",projectId:"movies-directory",storageBucket:"movies-directory.appspot.com",messagingSenderId:"616034165856",appId:"1:616034165856:web:d558ee4000bfef770d8f05",measurementId:"G-GQD494H3W0"});var m=h.a.firestore(),O=h.a.auth(),x="UPDATE_USER",g="MOVIE_LOADING",p="MOVIE_LOAD",v="MOVIE_ADD",f="MOVIE_ERROR",N="MOVIE_REMOVE",y="MOVIE_UPDATE",w="POPULAR_LOADING",S="POPULAR_LOAD",L="POPULAR_ERROR",C="RESULTS_LOADING",P="RESULTS_LOAD",k="RESULTS_ERROR",I=s(7),E=s(28),M=s(36),A=s(37),D=Object(E.c)(Object(E.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null,isLoggedIn:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(I.a)(Object(I.a)({},e),{},{user:t.payload.user,isLoggedIn:t.payload.isLoggedIn,error:t.payload.error});default:return e}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{movies:[],isLoading:!0,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(I.a)(Object(I.a)({},e),{},{isLoading:!0,error:null});case p:return Object(I.a)(Object(I.a)({},e),{},{movies:t.payload,isLoading:!1,error:null});case v:return Object(I.a)(Object(I.a)({},e),{},{movies:e.movies.concat(t.payload),isLoading:!1,error:null});case f:return Object(I.a)(Object(I.a)({},e),{},{isLoading:!1,error:t.payload});case N:return Object(I.a)(Object(I.a)({},e),{},{movies:e.movies.filter((function(e){return e.firestoreID!==t.payload}))});case y:return Object(I.a)(Object(I.a)({},e),{},{movies:e.movies.map((function(e){return e.id===t.payload.firestoreID?Object(I.a)(Object(I.a)({},e),{},{rating:t.payload.newRating}):e}))});default:return e}},popular:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{movies:[],isLoading:!0,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(I.a)(Object(I.a)({},e),{},{isLoading:!0,error:null});case S:return Object(I.a)(Object(I.a)({},e),{},{movies:t.payload,isLoading:!1,error:null});case L:return Object(I.a)(Object(I.a)({},e),{},{isLoading:!1,error:t.payload});default:return e}},results:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{movies:[],isLoading:!0,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(I.a)(Object(I.a)({},e),{},{isLoading:!0,error:null});case P:return Object(I.a)(Object(I.a)({},e),{},{movies:t.payload,isLoading:!1,error:null});case k:return Object(I.a)(Object(I.a)({},e),{},{isLoading:!1,error:t.payload});default:return e}}}),Object(E.a)(M.a,A.logger)),R=function(e,t){return new Promise((function(s,c){t.createdAt=h.a.firestore.Timestamp.fromDate(new Date),m.collection(e).add(t).then((function(e){t.firestoreID=e.id,D.dispatch(F(t)),s(e.id)})).catch((function(e){c(e)}))}))},U="k_4quk8cra",_=function(e){return{type:x,payload:e}},B=function(e){return function(t){var s;t(W()),(s=e,new Promise((function(e,t){m.collection(s).get().then((function(t){var s=[];t.forEach((function(e){s.push(Object(I.a)(Object(I.a)({},e.data()),{},{firestoreID:e.id}))})),e(s)})).catch((function(e){t(e)}))}))).then((function(e){t(T(e))})).catch((function(e){console.log("Error: "+e),t(H(e))}))}},W=function(){return{type:g}},T=function(e){return{type:p,payload:e}},F=function(e){return{type:v,payload:e}},Z=function(e){return{type:N,payload:e}},H=function(e){return{type:f,payload:e}},V=function(){return function(e){e(z()),(console.log("API_REQUEST"),new Promise((function(e,t){fetch("https://imdb-api.com/en/API/MostPopularMovies/"+U).then((function(e){return console.log(e),e.json()})).then((function(s){console.log(s),s.errorMessage?t(s.errorMessage):e(s)})).catch((function(e){t(e)}))}))).then((function(t){e(G(t.items))})).catch((function(t){console.log("Error: "+t),e(Q(t))}))}},z=function(){return{type:w}},G=function(e){return{type:S,payload:e}},Q=function(e){return{type:L,payload:e}},q=function(e){return function(t){var s;t(J()),(s=e,console.log("API_REQUEST"),new Promise((function(e,t){console.log(s),fetch("https://imdb-api.com/en/API/Search/k_4quk8cra/"+s).then((function(e){return console.log(e),e.json()})).then((function(s){console.log(s),s.errorMessage?t(s.errorMessage):e(s)})).catch((function(e){t(e)}))}))).then((function(e){t($(e.results))})).catch((function(e){console.log("Error: "+e),t(K(e))}))}},J=function(){return{type:C}},$=function(e){return{type:P,payload:e}},K=function(e){return{type:k,payload:e}},X=function(){return new Promise((function(e,t){O.signOut().then((function(){e("Success")})).catch((function(e){t(e.code+": "+e.message)}))}))};O.onAuthStateChanged((function(e){e?(D.dispatch(_({isLoggedIn:!0,user:e,error:null})),D.dispatch(B(e.uid))):(D.dispatch(_({isLoggedIn:!1,user:null,error:null})),D.dispatch(T([])))}));var Y=s(1);var ee=function(e){return Object(Y.jsx)("div",{className:"movies-nav-bar w-100",children:Object(Y.jsx)("nav",{className:"navbar navbar-expand-lg  ",children:Object(Y.jsxs)("div",{children:[Object(Y.jsx)(b.b,{className:"navbar-brand nav-bar-text mx-auto ",to:"/",children:"Movies Directory"}),e.user.user&&Object(Y.jsx)("span",{className:"text-light ms-2",children:e.user.user.displayName}),e.user.isLoggedIn?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(b.b,{to:"/mymovies",className:"navbar-link me-1 text-purple",children:"My Movies"}),Object(Y.jsx)("span",{className:"text-primary",onClick:X,style:{cursor:"pointer"},children:"Log Out"})]}):Object(Y.jsx)("div",{children:Object(Y.jsx)("span",{className:"text-primary",onClick:e.toggleModal,style:{cursor:"pointer"},children:"Log In"})})]})})})},te=s(8);var se=function(e){var t=Object(c.useState)(!1),s=Object(te.a)(t,2),r=s[0],n=s[1],a=Object(c.useState)(""),i=Object(te.a)(a,2),l=i[0],o=i[1];return Object(Y.jsx)("div",{children:Object(Y.jsxs)("form",{className:"row  mb-2 justify-content-center ",onSubmit:function(t){l?(n(!1),e.handleSearch(l)):n(!0),t.preventDefault()},children:[Object(Y.jsx)("div",{className:"col-md-9 mb-2 ",children:Object(Y.jsx)("input",{type:"text",className:r?"form-control  border-2 border-danger":"form-control ",placeholder:"Movie Name",onChange:function(e){o(e.target.value)},value:l})}),Object(Y.jsx)("div",{className:"col-auto mb-2",children:Object(Y.jsx)("button",{type:"submit",className:"btn btn-primary ",children:"Search"})})]})})};var ce=function(e){var t=Object(c.useState)(!1),s=Object(te.a)(t,2),r=s[0],n=s[1],a=Object(c.useState)(!1),i=Object(te.a)(a,2),l=i[0],o=i[1];return l?Object(Y.jsx)("div",{className:"text-danger",children:"Image Not Found"}):Object(Y.jsxs)("div",{children:[!r&&Object(Y.jsx)("div",{className:"spinner-border text-primary mx-auto d-block mt-4",role:"status",children:Object(Y.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(Y.jsx)("img",{src:e.src,alt:e.alt,className:"image",onLoad:function(){return n(!0)},onError:function(){return o(!0)},style:{display:r?"block":"none"}})]})},re=function(e){var t=Object(c.useState)(!1),s=Object(te.a)(t,2),r=s[0],n=s[1],a=Object(c.useState)(null!=e.result.rating),i=Object(te.a)(a,2),l=i[0],o=i[1],d=Object(c.useState)({isLoading:!0,details:[],error:null}),u=Object(te.a)(d,2),j=u[0],b=u[1],h=Object(c.useRef)(null),O=function(e){b({isLoading:!0,details:[],error:null}),function(e){return console.log("API_REQUEST"),console.log(e),new Promise((function(t,s){fetch("https://imdb-api.com/en/API/title/k_4quk8cra/"+e).then((function(e){return e.json()})).then((function(e){e.errorMessage?s(e.errorMessage):t(e)})).catch((function(e){s(e)}))}))}(e).then((function(e){console.log(e),b({isLoading:!1,details:e,error:null})})).catch((function(e){console.log(e),b({isLoading:!1,details:[],error:e})}))},x=function(){var t,s;o(!1),(t=e.user.user.uid,s=e.firestoreID,new Promise((function(e,c){m.collection(t).doc(s).delete().then((function(){D.dispatch(Z(s)),e(!0)})).catch((function(e){c(e)}))}))).catch((function(e){console.log(e)}))},g=function(){o(!0);var t={rating:1,id:e.result.id,resultType:"Title",image:e.result.image,title:e.result.title};R(e.user.user.uid,t).catch((function(e){console.log(e)}))};if(r){if(j.isLoading)return Object(Y.jsx)("div",{className:"results-grid-item text-center",children:Object(Y.jsx)("div",{className:"spinner-border text-primary mx-auto d-block mt-4",role:"status",children:Object(Y.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});if(j.error)return Object(Y.jsx)("div",{className:"results-grid-item text-center text-danger",children:"Error"});var p=j.details.actorList.map((function(e){return Object(Y.jsxs)("div",{className:"actors-grid-item",children:[Object(Y.jsx)(ce,{src:e.image,alt:e.name,text:""}),e.name," as ",Object(Y.jsx)("strong",{children:e.asCharacter})]},e.id)})),v=j.details.genreList.map((function(e){return Object(Y.jsx)("span",{className:"badge bg-purple me-1",children:e.value},e.key)}));return Object(Y.jsxs)("div",{className:"col-12 justify-content-center ",ref:h,children:[Object(Y.jsx)("div",{className:"text-end",children:Object(Y.jsx)("span",{className:"badge bg-danger",style:{cursor:"pointer"},onClick:function(){return n(!1)},children:"X"})}),Object(Y.jsxs)("div",{className:"movie-details",children:[Object(Y.jsx)("h4",{className:"text-center",children:j.details.title}),Object(Y.jsx)("p",{className:"text-center",children:v}),Object(Y.jsx)("p",{className:"text-center",style:{color:"#EDC01F"},children:j.details.awards}),e.user.isLoggedIn&&Object(Y.jsx)("div",{className:"mx-auto mb-2",children:l?Object(Y.jsxs)("div",{className:"cursor-pointer",children:[Object(Y.jsx)("svg",{width:"30",height:"32",viewBox:"0 0 30 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"heart-svg",onClick:x,children:Object(Y.jsx)("path",{id:"heart",d:"M15.6124 5.55276C8.01243 -3.24724 2.11243 2.55276 1.11243 7.55275C0.112426 12.5527 6.11243 20.0527 6.11243 20.0527L15.6124 31.0527L25.1124 20.0527C25.1124 20.0527 32 14 28.1124 5.05276C24.2249 -3.89449 15.6124 5.55276 15.6124 5.55276Z",fill:"#CC3F3F",stroke:"#B10E0E"})}),Object(Y.jsx)("p",{className:"text-center mb-0",onClick:x,children:"Remove from favourites"})]}):Object(Y.jsxs)("div",{className:"cursor-pointer",children:[Object(Y.jsx)("svg",{width:"30",height:"32",viewBox:"0 0 30 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"heart-svg",onClick:g,children:Object(Y.jsx)("path",{id:"heart",d:"M15.6124 5.55276C8.01243 -3.24724 2.11243 2.55276 1.11243 7.55275C0.112426 12.5527 6.11243 20.0527 6.11243 20.0527L15.6124 31.0527L25.1124 20.0527C25.1124 20.0527 32 14 28.1124 5.05276C24.2249 -3.89449 15.6124 5.55276 15.6124 5.55276Z",stroke:"#B10E0E"})}),Object(Y.jsx)("p",{className:"text-center mb-0",onClick:g,children:"Add to favourites"})]})}),Object(Y.jsxs)("div",{className:"row",children:[Object(Y.jsxs)("div",{className:"col-md-4",children:[Object(Y.jsx)("img",{src:j.details.image,alt:j.details.title,className:"w-100"}),"Rating ",Object(Y.jsxs)("span",{className:"badge bg-danger text-light",children:[j.details.contentRating," "]}),", IMDB ",Object(Y.jsx)("span",{className:"badge bg-warning text-dark",children:j.details.imDbRating})]}),Object(Y.jsxs)("div",{className:"col-md-8",children:[Object(Y.jsx)("p",{children:j.details.plot}),Object(Y.jsxs)("ul",{className:"list-unstyled",children:[Object(Y.jsxs)("li",{children:[Object(Y.jsx)("strong",{children:"Release Date :"})," ",j.details.releaseDate]}),Object(Y.jsxs)("li",{children:[Object(Y.jsx)("strong",{children:"Runtime :"})," ",j.details.runtimeStr]}),Object(Y.jsxs)("li",{children:[Object(Y.jsx)("strong",{children:"Directors:"})," ",j.details.directors]}),Object(Y.jsxs)("li",{children:[Object(Y.jsx)("strong",{children:"Writters:"})," ",j.details.writers]}),Object(Y.jsxs)("li",{children:[Object(Y.jsx)("strong",{children:"Stars:"})," ",j.details.stars]})]}),Object(Y.jsxs)("div",{className:"bg-primary p-2",children:["Box Office",Object(Y.jsx)("table",{children:Object(Y.jsxs)("tbody",{children:[Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-dark fw-bold",children:"Budget "}),Object(Y.jsx)("td",{children:j.details.boxOffice.budget})]}),Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-dark fw-bold",children:"Opening weekend USA "}),Object(Y.jsx)("td",{children:j.details.boxOffice.openingWeekendUSA})]}),Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-dark fw-bold",children:"Gross USA "}),Object(Y.jsx)("td",{children:j.details.boxOffice.grossUSA})]}),Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-dark fw-bold",children:"Gross Worldwide "}),Object(Y.jsx)("td",{children:j.details.boxOffice.cumulativeWorldwideGross})]})]})})]})]})]}),Object(Y.jsx)("h4",{className:"mt-4",children:"Cast"}),Object(Y.jsx)("hr",{}),Object(Y.jsx)("div",{className:"actors-grid",children:p})]})]},e.result.id+"d")}return Object(Y.jsx)("div",{children:Object(Y.jsx)("div",{className:l?"results-grid-item-liked details-button-parent":"results-grid-item details-button-parent",children:Object(Y.jsxs)("div",{className:" p-2 ",children:[Object(Y.jsx)("p",{className:"text-center mb-2",children:e.result.title}),e.user.isLoggedIn&&Object(Y.jsx)("div",{className:"mx-auto mb-2 cursor-pointer heart-grid",children:0===e.rating?Object(Y.jsx)("svg",{width:"25",height:"25",viewBox:"0 0 30 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"heart-svg",onClick:g,children:Object(Y.jsx)("path",{id:"heart",d:"M15.6124 5.55276C8.01243 -3.24724 2.11243 2.55276 1.11243 7.55275C0.112426 12.5527 6.11243 20.0527 6.11243 20.0527L15.6124 31.0527L25.1124 20.0527C25.1124 20.0527 32 14 28.1124 5.05276C24.2249 -3.89449 15.6124 5.55276 15.6124 5.55276Z",stroke:"#B10E0E"})}):Object(Y.jsx)("svg",{width:"25",height:"25",viewBox:"0 0 30 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"heart-svg",onClick:x,children:Object(Y.jsx)("path",{id:"heart",d:"M15.6124 5.55276C8.01243 -3.24724 2.11243 2.55276 1.11243 7.55275C0.112426 12.5527 6.11243 20.0527 6.11243 20.0527L15.6124 31.0527L25.1124 20.0527C25.1124 20.0527 32 14 28.1124 5.05276C24.2249 -3.89449 15.6124 5.55276 15.6124 5.55276Z",fill:"#CC3F3F",stroke:"#B10E0E"})})}),Object(Y.jsx)(ce,{src:e.result.image,alt:e.result.title,text:e.result.description||e.result.title}),Object(Y.jsx)("div",{className:"details-button",onClick:function(){e.result.id&&O(e.result.id),n(!0)},children:"Details"})]})},e.result.id)})};var ne=function(e){return Object(Y.jsx)("div",{children:Object(Y.jsx)("nav",{children:Object(Y.jsxs)("ul",{className:"pagination justify-content-center cursor-pointer",children:[Object(Y.jsx)("li",{className:1===e.currentPage?"page-item disabled":"page-item",children:Object(Y.jsx)("span",{className:"page-link pagination-custom-item",href:"#","aria-label":"Previous",onClick:e.decPage,children:Object(Y.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),function(t){for(var s=Array(t),c=function(t){s[t]=Object(Y.jsx)("li",{className:"page-item",children:Object(Y.jsx)("span",{className:e.currentPage===t+1?"page-link pagination-custom-item-active cursor-pointer":"page-link pagination-custom-item cursor-pointer",onClick:function(){return e.setCurrentPage(t+1)},children:t+1})},t+1)},r=0;r<t;r++)c(r);return s}(e.pageCount),Object(Y.jsx)("li",{className:e.currentPage===e.pageCount?"page-item disabled":"page-item",children:Object(Y.jsx)("span",{className:"page-link bpagination-custom-item ",href:"#","aria-label":"Next",onClick:e.incPage,children:Object(Y.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})})};var ae=function(e){var t=Object(c.useState)(1),s=Object(te.a)(t,2),r=s[0],n=s[1],a=Math.ceil(e.results.movies.length/12),i=Object(c.useRef)(null),l=function(){r<a&&n(r+1)},o=function(){r>1&&n(r-1)};if(e.results.isLoading)return Object(Y.jsxs)("div",{className:"results-grid-item",children:[Object(Y.jsx)("br",{}),Object(Y.jsx)("svg",{width:"120",height:"8",viewBox:"0 0 120 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Y.jsxs)("g",{id:"loadingbar",children:[Object(Y.jsx)("rect",{width:"120",height:"8",fill:"none"}),Object(Y.jsx)("circle",{id:"loadicon",cx:"3",cy:"4",r:"4",fill:"#27A4FF"})]})}),Object(Y.jsx)("br",{}),"Loading"]});if(e.results.error)return Object(Y.jsxs)("div",{className:"text-danger",children:["Error : ",e.results.error]});var d=e.results.movies.slice(12*(r-1),12*r);e.user.isLoggedIn&&!e.movies.error&&e.movies.movies.length>0&&d.length>0&&(console.log("injecting"),d=d.map((function(t){return e.movies.movies.find((function(e){return e.id===t.id}))||t})),console.log(d));var u=d.map((function(t){return Object(Y.jsx)("div",{ref:i,children:Object(Y.jsx)(re,{firestoreID:t.firestoreID||null,user:e.user,rating:t.rating||0,result:t})},t.id)}));return Object(Y.jsxs)("div",{className:"row",children:[Object(Y.jsx)(ne,{currentPage:r,decPage:o,incPage:l,pageCount:a,setCurrentPage:n}),Object(Y.jsx)("div",{className:"results-grid",children:u}),Object(Y.jsx)(ne,{currentPage:r,decPage:o,incPage:l,pageCount:a,setCurrentPage:n})]})};var ie=function(e){return Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"movies-nav-filler"}),Object(Y.jsx)("div",{className:"container",children:Object(Y.jsxs)("div",{className:"text-light results-grid",children:[Object(Y.jsx)("h1",{className:"category-heading",children:"Most Popular Movies"}),Object(Y.jsx)(ae,{movies:e.movies,results:e.popular,user:e.user})]})})]})};var le=function(e){var t=Object(u.g)(),s=Object(c.useRef)(null);return Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"row home-search-background align-items-center m-0",children:Object(Y.jsx)("div",{className:"row justify-content-center",children:Object(Y.jsxs)("div",{className:"col-10 col-lg-4 col-md-6 col-sm-8 text-light home-search-container",children:[Object(Y.jsx)("h4",{className:"text-center mx-2 mb-0",children:"Welocome"}),Object(Y.jsx)("h1",{className:"text-center mx-2 main-heading",children:"Movies Directory"}),Object(Y.jsx)(se,{handleSearch:function(s){e.handleSearch(s),t.push("/results")}}),Object(Y.jsx)("p",{className:"text-center text-purple cursor-pointer mb-0",onClick:function(){return s.current.scrollIntoView({behaviour:"smooth"})},children:"Browse Movies"}),!e.isLoggedIn&&Object(Y.jsxs)("p",{className:"m-0 text-center",children:[Object(Y.jsx)("span",{className:"text-primary cursor-pointer",onClick:e.toggleModal,children:"Log in"})," for recommendations"]})]})})}),Object(Y.jsx)("div",{ref:s,children:Object(Y.jsx)(ie,{popular:e.popular,user:e.user,movies:e.movies})})]})};var oe=function(e){return Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"movies-nav-filler"}),Object(Y.jsxs)("div",{className:"container",children:[Object(Y.jsx)("h2",{className:"category-heading text-center",children:"Search Movies"}),Object(Y.jsx)("div",{className:"w-50 mx-auto",children:Object(Y.jsx)(se,{handleSearch:function(t){e.handleSearch(t)}})}),Object(Y.jsx)("div",{className:"text-light results-grid",children:Object(Y.jsx)(ae,{movies:e.movies,results:e.results,user:e.user})})]})]})};var de=function(e){return e.user.isLoggedIn?e.user.error?Object(Y.jsx)("div",{children:"Error"}):Object(Y.jsxs)("div",{className:"text-light",children:[Object(Y.jsx)("div",{className:"movies-nav-filler"}),Object(Y.jsxs)("div",{className:"container",children:[Object(Y.jsx)("div",{children:Object(Y.jsx)("h1",{className:"text-center",children:e.user.user.displayName})}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h4",{children:"My Movie Collection"}),Object(Y.jsx)("hr",{}),e.movies.movies.length>0?Object(Y.jsx)(ae,{movies:e.movies,results:e.movies,user:e.user}):Object(Y.jsx)("div",{className:"text-center",children:Object(Y.jsx)("p",{children:"Empty"})})]})]})]}):Object(Y.jsx)("div",{className:"text-light",children:"Loading"})},ue=s(62);var je=function(e){var t=Object(c.useState)("abc@def.com"),s=Object(te.a)(t,2),r=s[0],n=s[1],a=Object(c.useState)(null),i=Object(te.a)(a,2),l=i[0],o=i[1],d=Object(c.useState)(""),u=Object(te.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(null),m=Object(te.a)(h,2),x=m[0],g=m[1],p=Object(c.useState)(null),v=Object(te.a)(p,2),f=v[0],N=v[1],y=/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[A-Za-z]+$/,w=function(e){var t=e.target;switch(t.id){case"userEmail":n(t.value),o(y.test(t.value)?null:"Invalid Email");break;case"passWord":b(t.value),g(t.value.length<8?"Password must be at least 8 charaters long":null)}};return Object(Y.jsx)("div",{children:Object(Y.jsx)("div",{children:Object(Y.jsxs)("div",{className:"px-4 my-4",children:[Object(Y.jsx)("h2",{className:"text-center mb-4 text-purple",children:"Log In"}),Object(Y.jsxs)("form",{onSubmit:function(t){var s,c;l||x||((s=r,c=j,new Promise((function(e,t){O.signInWithEmailAndPassword(s,c).then((function(t){e(t)})).catch((function(e){t(e.code+": "+e.message)}))}))).catch((function(e){N(e)})),e.modalHide()),t.preventDefault()},children:[Object(Y.jsxs)("div",{className:"mb-2",children:[Object(Y.jsx)("label",{className:"form-label",children:"Email"}),Object(Y.jsx)("input",{type:"email",className:"form-control",id:"userEmail",placeholder:"abc@def.com",value:r,onChange:w}),l&&Object(Y.jsx)("p",{className:"text-danger",children:l})]}),Object(Y.jsxs)("div",{className:"mb-3",children:[Object(Y.jsx)("label",{className:"form-label",children:"Password"}),Object(Y.jsx)("input",{type:"password",className:"form-control",id:"passWord",placeholder:"",value:j,onChange:w}),x&&Object(Y.jsx)("p",{className:"text-danger",children:x})]}),f&&Object(Y.jsx)("div",{className:"mb-2 text-danger",children:f}),Object(Y.jsx)("div",{children:Object(Y.jsx)("button",{type:"submit",className:"btn btn-primary w-100 ",disabled:l||x,children:"Sign In"})})]}),Object(Y.jsx)("hr",{}),Object(Y.jsxs)("div",{children:["New User ",Object(Y.jsx)("span",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){return e.changeState()},children:"Create Account"})]})]})})})};var be=function(e){var t=Object(c.useState)("name"),s=Object(te.a)(t,2),r=s[0],n=s[1],a=Object(c.useState)(null),i=Object(te.a)(a,2),l=i[0],o=i[1],d=Object(c.useState)("abc@def.com"),u=Object(te.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(null),m=Object(te.a)(h,2),x=m[0],g=m[1],p=Object(c.useState)(""),v=Object(te.a)(p,2),f=v[0],N=v[1],y=Object(c.useState)(null),w=Object(te.a)(y,2),S=w[0],L=w[1],C=Object(c.useState)(""),P=Object(te.a)(C,2),k=P[0],I=P[1],E=Object(c.useState)(null),M=Object(te.a)(E,2),A=M[0],D=M[1],R=Object(c.useState)(null),U=Object(te.a)(R,2),_=U[0],B=U[1],W=/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[A-Za-z]+$/,T=function(e){var t=e.target;switch(t.id){case"userName":n(t.value),o(t.value.length<4?"Name must be at least 4 charaters long":null);break;case"userEmail":b(t.value),g(W.test(t.value)?null:"Invalid Email");break;case"passWord":N(t.value),L(t.value.length<8?"Password must be at least 8 charaters long":null),D(k===t.value?null:"Password should match");break;case"passWordVerify":I(t.value),D(f===t.value?null:"Password should match")}};return Object(Y.jsx)("div",{children:Object(Y.jsx)("div",{children:Object(Y.jsxs)("div",{className:"px-4 my-4",children:[Object(Y.jsx)("h2",{className:"text-center mb-4 text-purple",children:"Create Account"}),Object(Y.jsxs)("form",{onSubmit:function(t){var s,c;x||S||A||((s=j,c=f,new Promise((function(e,t){O.createUserWithEmailAndPassword(s,c).then((function(t){e("success")})).catch((function(e){t(e.code+": "+e.message)}))}))).then((function(){return e=r,new Promise((function(t,s){O.currentUser.updateProfile({displayName:e}).then((function(){t("success")})).catch((function(e){s(e.code+": "+e.message)}))}));var e})).then((function(e){console.log(e)})).catch((function(e){B(e)})),e.modalHide()),t.preventDefault()},children:[Object(Y.jsxs)("div",{className:"mb-2",children:[Object(Y.jsx)("label",{className:"form-label",children:"Name"}),Object(Y.jsx)("input",{type:"text",className:"form-control",id:"userName",placeholder:"name",value:r,onChange:T}),l&&Object(Y.jsx)("p",{className:"text-danger",children:l})]}),Object(Y.jsxs)("div",{className:"mb-2",children:[Object(Y.jsx)("label",{className:"form-label",children:"Email"}),Object(Y.jsx)("input",{type:"email",className:"form-control",id:"userEmail",placeholder:"abc@def.com",value:j,onChange:T}),x&&Object(Y.jsx)("p",{className:"text-danger",children:x})]}),Object(Y.jsxs)("div",{className:"mb-2",children:[Object(Y.jsx)("label",{className:"form-label",children:"Password"}),Object(Y.jsx)("input",{type:"password",className:"form-control",id:"passWord",placeholder:"",value:f,onChange:T}),S&&Object(Y.jsx)("p",{className:"text-danger",children:S})]}),Object(Y.jsxs)("div",{className:"mb-4",children:[Object(Y.jsx)("label",{className:"form-label",children:"Re-enter Password"}),Object(Y.jsx)("input",{type:"password",className:"form-control",id:"passWordVerify",placeholder:"",value:k,onChange:T}),A&&Object(Y.jsx)("p",{className:"text-danger",children:A})]}),_&&Object(Y.jsx)("div",{className:"text-danger",children:_}),Object(Y.jsx)("div",{children:Object(Y.jsx)("button",{type:"submit",className:"btn btn-primary w-100 ",disabled:x||S||A,children:"Create"})}),Object(Y.jsx)("hr",{}),Object(Y.jsx)("div",{children:Object(Y.jsx)("span",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){return e.changeState()},children:"Sign In"})})]})]})})})};var he=function(e){var t=Object(c.useState)("signin"),s=Object(te.a)(t,2),r=s[0],n=s[1];return Object(Y.jsx)(ue.a,{show:e.show,onHide:e.modalHide,animation:!1,scrollable:!0,children:Object(Y.jsx)(ue.a.Body,{className:"m-1 p-1 modal-body text-light",children:Object(Y.jsxs)("div",{className:"container ",children:["signin"===r&&Object(Y.jsx)(je,{changeState:function(){return n("newuser")},updateUser:e.updateUser,modalHide:e.modalHide}),"newuser"===r&&Object(Y.jsx)(be,{changeState:function(){return n("signin")},updateUser:e.updateUser,modalHide:e.modalHide})]})})})},me=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var c;return Object(i.a)(this,s),(c=t.call(this,e)).setSearchName=function(e){c.setState({searchName:e})},c.toggleModal=function(){c.setState({modalShow:!c.state.modalShow})},c.state={searchName:"",modalShow:!1},c}return Object(l.a)(s,[{key:"componentDidMount",value:function(){console.log("mounted"),document.title="Movies Directory",this.props.fetchPopular()}},{key:"render",value:function(){var e=this;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ee,{user:this.props.user,toggleModal:this.toggleModal}),Object(Y.jsxs)(u.d,{children:[Object(Y.jsx)(u.b,{exact:!0,path:"/",component:function(){return Object(Y.jsx)(le,{isLoggedIn:e.props.user.isLoggedIn,handleSearch:e.props.searchMoviesAction,toggleModal:e.toggleModal,user:e.props.user,movies:e.props.movies,popular:e.props.popular})}}),this.props.user.isLoggedIn&&Object(Y.jsx)(u.b,{path:"/mymovies",component:function(){return Object(Y.jsx)(de,{user:e.props.user,movies:e.props.movies})}}),Object(Y.jsx)(u.b,{path:"/results",component:function(t){t.match;return Object(Y.jsx)(oe,{user:e.props.user,results:e.props.results,handleSearch:e.props.searchMoviesAction,movies:e.props.movies})}}),Object(Y.jsx)(u.a,{to:"/"})]}),Object(Y.jsx)(he,{show:this.state.modalShow,modalHide:this.toggleModal})]})}}]),s}(c.Component),Oe=Object(u.h)(Object(j.b)((function(e){return{user:e.user,movies:e.movies,popular:e.popular,results:e.results}}),(function(e){return{addMovie:function(t){return e(F(t))},removeMovie:function(t){return e(Z(t))},updateMovie:function(t,s){return e(function(e,t){return{type:y,payload:{firestoreID:e,newRating:t}}}(t,s))},fetchPopular:function(){return e(V())},searchMoviesAction:function(t){return e(q(t))}}}))(me));var xe=function(){return Object(Y.jsx)("div",{className:"App",children:Object(Y.jsx)(j.a,{store:D,children:Object(Y.jsx)(b.a,{children:Object(Y.jsx)(Oe,{})})})})},ge=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,63)).then((function(t){var s=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,a=t.getTTFB;s(e),c(e),r(e),n(e),a(e)}))};a.a.render(Object(Y.jsx)(r.a.StrictMode,{children:Object(Y.jsx)(xe,{})}),document.getElementById("root")),ge()}},[[57,1,2]]]);
//# sourceMappingURL=main.3e2d792b.chunk.js.map