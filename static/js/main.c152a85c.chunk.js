(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{45:function(e,t,s){},47:function(e,t,s){},57:function(e,t,s){"use strict";s.r(t);var c=s(2),r=s.n(c),a=s(20),n=s.n(a),i=(s(45),s(46),s(47),s(33)),o=s(34),l=s(40),d=s(39),u=s(10),j=s(26),m=s(21),b=s(22);s(59),s(58),s(52);b.a.apps.length?b.a.app():b.a.initializeApp({apiKey:"AIzaSyCojwpSJpdp7bPZnR34ZptAvUwjnc-6_as",authDomain:"movies-directory.firebaseapp.com",projectId:"movies-directory",storageBucket:"movies-directory.appspot.com",messagingSenderId:"616034165856",appId:"1:616034165856:web:d558ee4000bfef770d8f05",measurementId:"G-GQD494H3W0"});var h=b.a.firestore(),p=b.a.auth(),O="UPDATE_USER",v="MOVIE_LOADING",x="MOVIE_LOAD",g="MOVIE_ADD",f="MOVIE_ERROR",N="MOVIE_REMOVE",y="MOVIE_UPDATE",M="POPULAR_LOADING",w="POPULAR_LOAD",L="POPULAR_ERROR",S=s(9),I=function(e,t){return new Promise((function(s,c){t.createdAt=b.a.firestore.Timestamp.fromDate(new Date),h.collection(e).add(t).then((function(e){s(e.id)})).catch((function(e){c(e)}))}))},k="k_4quk8cra",C=function(e){return{type:O,payload:e}},D=function(e){return function(t){var s;t(P()),(s=e,new Promise((function(e,t){h.collection(s).get().then((function(t){var s=[];t.forEach((function(e){s.push(Object(S.a)(Object(S.a)({},e.data()),{},{firestoreID:e.id}))})),e(s)})).catch((function(e){t(e)}))}))).then((function(e){t(E(e))})).catch((function(e){console.log("Error: "+e),t(A(e))}))}},P=function(){return{type:v}},E=function(e){return{type:x,payload:e}},A=function(e){return{type:f,payload:e}},R=function(){return function(e){e(U()),new Promise((function(e,t){fetch("https://imdb-api.com/en/API/MostPopularMovies/"+k).then((function(e){return console.log(e),e.json()})).then((function(s){console.log(s),s.errorMessage?t(s.errorMessage):e(s)})).catch((function(e){t(e)}))})).then((function(t){e(W(t.items))})).catch((function(t){console.log("Error: "+t),e(_(t))}))}},U=function(){return{type:M}},W=function(e){return{type:w,payload:e}},_=function(e){return{type:L,payload:e}},B=s(28),H=s(36),V=s(37),T=Object(B.c)(Object(B.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null,isLoggedIn:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(S.a)(Object(S.a)({},e),{},{user:t.payload.user,isLoggedIn:t.payload.isLoggedIn,error:t.payload.error});default:return e}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{movies:[],isLoading:!0,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(S.a)(Object(S.a)({},e),{},{isLoading:!0,error:null});case x:return Object(S.a)(Object(S.a)({},e),{},{movies:t.payload,isLoading:!1,error:null});case g:return Object(S.a)(Object(S.a)({},e),{},{movies:e.movies.concat(t.payload),isLoading:!1,error:null});case f:return Object(S.a)(Object(S.a)({},e),{},{isLoading:!1,error:t.payload});case N:return Object(S.a)(Object(S.a)({},e),{},{movies:e.movies.filter((function(e){return e.firestoreID!==t.payload}))});case y:return Object(S.a)(Object(S.a)({},e),{},{movies:e.movies.map((function(e){return e.id===t.payload.firestoreID?Object(S.a)(Object(S.a)({},e),{},{rating:t.payload.newRating}):e}))});default:return e}},popular:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{movies:[],isLoading:!0,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(S.a)(Object(S.a)({},e),{},{isLoading:!0,error:null});case w:return Object(S.a)(Object(S.a)({},e),{},{movies:t.payload,isLoading:!1,error:null});case L:return Object(S.a)(Object(S.a)({},e),{},{isLoading:!1,error:t.payload});default:return e}}}),Object(B.a)(H.a,V.logger)),F=function(){return new Promise((function(e,t){p.signOut().then((function(){e("Success")})).catch((function(e){t(e.code+": "+e.message)}))}))};p.onAuthStateChanged((function(e){e?(T.dispatch(C({isLoggedIn:!0,user:e,error:null})),T.dispatch(D(e.uid))):(T.dispatch(C({isLoggedIn:!1,user:null,error:null})),T.dispatch(E([])))}));var G=s(1);var Z=function(e){return Object(G.jsx)("div",{className:"movies-nav-bar w-100",children:Object(G.jsx)("nav",{className:"navbar navbar-expand-lg  ",children:Object(G.jsxs)("div",{children:[Object(G.jsx)(m.b,{className:"navbar-brand nav-bar-text mx-auto ",to:"/",children:"Movies Directory"}),e.user.user&&Object(G.jsx)("span",{className:"text-light ms-2",children:e.user.user.displayName}),e.user.isLoggedIn?Object(G.jsxs)("div",{children:[Object(G.jsx)(m.b,{to:"/mymovies",className:"navbar-link me-1 text-purple",children:"My Movies"}),Object(G.jsx)("span",{className:"text-primary",onClick:F,style:{cursor:"pointer"},children:"Log Out"})]}):Object(G.jsx)("div",{children:Object(G.jsx)("span",{className:"text-primary",onClick:e.toggleModal,style:{cursor:"pointer"},children:"Log In"})})]})})})},q=s(7);var J=function(e){var t=Object(c.useState)(!1),s=Object(q.a)(t,2),r=s[0],a=s[1],n=Object(c.useRef)(null);return Object(G.jsx)("div",{children:Object(G.jsxs)("div",{className:"row  mb-2 justify-content-center  ",children:[Object(G.jsx)("div",{className:"col-md-9 mb-2 ",children:Object(G.jsx)("input",{type:"text",className:r?"form-control  border-2 border-danger":"form-control ",placeholder:"Movie Name",ref:n})}),Object(G.jsx)("div",{className:"col-auto mb-2",children:Object(G.jsx)("button",{type:"submit",className:"btn btn-primary ",onClick:function(){n.current.value?(a(!1),e.handleSearch(n.current.value)):a(!0)},children:"Search"})})]})})},z=function(e){var t=Object(c.useState)({isLoading:!0,details:[],error:null}),s=Object(q.a)(t,2),r=s[0],a=s[1];Object(c.useEffect)((function(){e.movieID&&n(e.movieID)}),[e.movieID]);var n=function(e){a({isLoading:!0,details:[],error:null}),function(e){return new Promise((function(t,s){fetch("https://imdb-api.com/en/API/title/k_4quk8cra/"+e).then((function(e){return console.log(e),e.json()})).then((function(e){console.log(e),e.errorMessage?s(e.errorMessage):t(e)})).catch((function(e){s(e)}))}))}(e).then((function(e){console.log(e),a({isLoading:!1,details:e,error:null})})).catch((function(e){console.log(e),a({isLoading:!1,details:[],error:e})}))},i=function(){var t={rating:1,id:e.movieID,resultType:"Title",image:e.image,title:e.title,description:r.details.fullTitle};I(e.user.user.uid,t).then((function(s){t.firestoreID=s,e.addMovie(t)})).catch((function(e){console.log(e)}))},o=function(){var t,s;(t=e.user.user.uid,s=e.firestoreID,new Promise((function(e,c){h.collection(t).doc(s).delete().then((function(){e(!0)})).catch((function(e){c(e)}))}))).then((function(){e.removeMovie(e.firestoreID)})).catch((function(e){console.log(e)}))};if(r.isLoading)return Object(G.jsx)("div",{children:"Loading"});if(r.error)return Object(G.jsx)("div",{children:"Error"});var l=r.details.actorList.map((function(e){return Object(G.jsxs)("div",{className:"col-lg-2 col-md-3 col-sm-4 col-6 p-1 cast-grid-item",children:[Object(G.jsx)("img",{src:e.image,alt:e.name,className:"w-100"}),e.name," as ",Object(G.jsx)("strong",{children:e.asCharacter})]},e.id)})),d=r.details.genreList.map((function(e){return Object(G.jsx)("span",{className:"badge bg-purple me-1",children:e.value},e.key)}));return Object(G.jsxs)("div",{className:"col-12 justify-content-center ",children:[Object(G.jsx)("div",{className:"text-end",children:Object(G.jsx)("span",{className:"badge bg-danger",style:{cursor:"pointer"},onClick:e.handleClose,children:"X"})}),Object(G.jsxs)("div",{className:"movie-details",children:[Object(G.jsx)("h4",{className:"text-center",children:e.title}),Object(G.jsx)("p",{className:"text-center",children:d}),Object(G.jsx)("p",{className:"text-center",style:{color:"#EDC01F"},children:r.details.awards}),e.user.isLoggedIn&&Object(G.jsx)("div",{className:"mx-auto mb-2",children:0===e.rating?Object(G.jsxs)("div",{className:"cursor-pointer",children:[Object(G.jsx)("svg",{width:"30",height:"32",viewBox:"0 0 30 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"heart-svg",onClick:i,children:Object(G.jsx)("path",{id:"heart",d:"M15.6124 5.55276C8.01243 -3.24724 2.11243 2.55276 1.11243 7.55275C0.112426 12.5527 6.11243 20.0527 6.11243 20.0527L15.6124 31.0527L25.1124 20.0527C25.1124 20.0527 32 14 28.1124 5.05276C24.2249 -3.89449 15.6124 5.55276 15.6124 5.55276Z",stroke:"#B10E0E"})}),Object(G.jsx)("p",{className:"text-center mb-0",onClick:i,children:"Add to favourites"})]}):Object(G.jsxs)("div",{className:"cursor-pointer",children:[Object(G.jsx)("svg",{width:"30",height:"32",viewBox:"0 0 30 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"heart-svg",onClick:o,children:Object(G.jsx)("path",{id:"heart",d:"M15.6124 5.55276C8.01243 -3.24724 2.11243 2.55276 1.11243 7.55275C0.112426 12.5527 6.11243 20.0527 6.11243 20.0527L15.6124 31.0527L25.1124 20.0527C25.1124 20.0527 32 14 28.1124 5.05276C24.2249 -3.89449 15.6124 5.55276 15.6124 5.55276Z",fill:"#CC3F3F",stroke:"#B10E0E"})}),Object(G.jsx)("p",{className:"text-center mb-0",onClick:o,children:"Remove from favourites"})]})}),Object(G.jsxs)("div",{className:"row",children:[Object(G.jsxs)("div",{className:"col-md-4",children:[Object(G.jsx)("img",{src:e.image,alt:e.title,className:"w-100"}),"Rating ",Object(G.jsxs)("span",{className:"badge bg-danger text-light",children:[r.details.contentRating," "]}),", IMDB ",Object(G.jsx)("span",{className:"badge bg-warning text-dark",children:r.details.imDbRating})]}),Object(G.jsxs)("div",{className:"col-md-8",children:[Object(G.jsx)("p",{children:r.details.plot}),Object(G.jsxs)("ul",{className:"list-unstyled",children:[Object(G.jsxs)("li",{children:[Object(G.jsx)("strong",{children:"Release Date :"})," ",r.details.releaseDate]}),Object(G.jsxs)("li",{children:[Object(G.jsx)("strong",{children:"Runtime :"})," ",r.details.runtimeStr]}),Object(G.jsxs)("li",{children:[Object(G.jsx)("strong",{children:"Directors:"})," ",r.details.directors]}),Object(G.jsxs)("li",{children:[Object(G.jsx)("strong",{children:"Writters:"})," ",r.details.writers]}),Object(G.jsxs)("li",{children:[Object(G.jsx)("strong",{children:"Stars:"})," ",r.details.stars]})]}),Object(G.jsxs)("div",{className:"bg-primary p-2",children:["Box Office",Object(G.jsx)("table",{children:Object(G.jsxs)("tbody",{children:[Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{className:"text-dark fw-bold",children:"Budget "}),Object(G.jsx)("td",{children:r.details.boxOffice.budget})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{className:"text-dark fw-bold",children:"Opening weekend USA "}),Object(G.jsx)("td",{children:r.details.boxOffice.openingWeekendUSA})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{className:"text-dark fw-bold",children:"Gross USA "}),Object(G.jsx)("td",{children:r.details.boxOffice.grossUSA})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{className:"text-dark fw-bold",children:"Gross Worldwide "}),Object(G.jsx)("td",{children:r.details.boxOffice.cumulativeWorldwideGross})]})]})})]})]}),Object(G.jsx)("h4",{className:"mt-4",children:"Cast"}),Object(G.jsx)("hr",{}),l]})]})]},e.movieID)};var K=function(e){var t=Object(c.useState)(null),s=Object(q.a)(t,2),r=s[0],a=s[1],n=Object(c.useState)(0),i=Object(q.a)(n,2),o=i[0],l=i[1],d=Object(c.useState)(1),u=Object(q.a)(d,2),j=u[0],m=u[1],b=Object(c.useState)([]),h=Object(q.a)(b,2),p=h[0],O=h[1];Object(c.useEffect)((function(){m(Math.ceil(e.results.length/8)),l(1),O(e.results.slice(8*(o-1),8*o))}),[e.results]),Object(c.useEffect)((function(){O(e.results.slice(8*(o-1),8*o))}),[o]);var v=function(e){for(var t=Array(e),s=function(e){t[e]=Object(G.jsx)("li",{className:"page-item",children:Object(G.jsx)("span",{className:o===e+1?"page-link pagination-custom-item-active cursor-pointer":"page-link pagination-custom-item cursor-pointer",onClick:function(){return l(e+1)},children:e+1})},e+1)},c=0;c<e;c++)s(c);return t},x=function(){o<j&&l(o+1)},g=function(){o>1&&l(o-1)};if(e.isLoading)return Object(G.jsx)("div",{className:"text-light",children:"Loading"});if(e.error)return Object(G.jsx)("div",{className:"text-danger",children:"error"});var f=p.map((function(t){return r===t.id?Object(G.jsx)(z,{movieID:t.id,title:t.title,description:t.description,image:t.image,firestoreID:t.firestoreID||null,handleClose:function(){return a(null)},user:e.user,addMovie:e.addMovie,removeMovie:e.removeMovie,updateMovie:e.updateMovie,rating:t.rating||0}):Object(G.jsx)("div",{className:"col-12 col-lg-3 co-md-4 col-sm-6 p-2 ",onClick:function(){return a(t.id)},children:Object(G.jsxs)("div",{className:"results-grid-item p-2",children:[Object(G.jsxs)("span",{className:"position-relative pt-2",children:[t.title,t.rating&&Object(G.jsx)("span",{className:" badge rounded-pill bg-danger ms-1",children:"Liked"})]}),Object(G.jsx)("p",{className:"text-secondary",children:t.description||t.title}),Object(G.jsx)("img",{src:t.image,alt:t.title,className:"w-100"})]})},t.id)}));return Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("nav",{children:Object(G.jsxs)("ul",{className:"pagination justify-content-center cursor-pointer",children:[Object(G.jsx)("li",{className:1===o?"page-item disabled":"page-item",children:Object(G.jsx)("span",{className:"page-link pagination-custom-item",href:"#","aria-label":"Previous",onClick:g,children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),v(j),Object(G.jsx)("li",{className:o===j?"page-item disabled":"page-item",children:Object(G.jsx)("span",{className:"page-link bpagination-custom-item ",href:"#","aria-label":"Next",onClick:x,children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})}),f,Object(G.jsx)("nav",{children:Object(G.jsxs)("ul",{className:"pagination justify-content-center cursor-pointer",children:[Object(G.jsx)("li",{className:1===o?"page-item disabled":"page-item",children:Object(G.jsx)("span",{className:"page-link pagination-custom-item",href:"#","aria-label":"Previous",onClick:g,children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),v(j),Object(G.jsx)("li",{className:o===j?"page-item disabled":"page-item",children:Object(G.jsx)("span",{className:"page-link pagination-custom-item ",href:"#","aria-label":"Next",onClick:x,children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})]})};var $=function(e){var t=Object(c.useState)([]),s=Object(q.a)(t,2),r=s[0],a=s[1];Object(c.useEffect)((function(){n(e.popular.movies)}),[e.movies.movies,e.popular.movies]);var n=function(t){if(!e.user.isLoggedIn||e.movies.isLoading||e.movies.error)a(t);else{var s=t.map((function(t){return e.movies.movies.find((function(e){return e.id===t.id}))||t}));a(s)}};return Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"movies-nav-filler"}),Object(G.jsx)("div",{className:"container",children:Object(G.jsxs)("div",{className:"text-light results-grid",children:[Object(G.jsx)("h1",{className:"category-heading",children:"Most Popular Movies"}),Object(G.jsx)(K,{isLoading:e.popular.isLoading,error:e.popular.error,results:r,user:e.user,addMovie:e.addMovie,removeMovie:e.removeMovie,updateMovie:e.updateMovie})]})})]})};var Q=function(e){var t=Object(u.g)(),s=Object(c.useRef)(null);return Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"row home-search-background align-items-center ",children:Object(G.jsx)("div",{className:"row justify-content-center",children:Object(G.jsxs)("div",{className:"col-10 col-lg-4 col-md-6 col-sm-8 text-light home-search-container",children:[Object(G.jsx)("h4",{className:"text-center mx-2 mb-0",children:"Welocome"}),Object(G.jsx)("h1",{className:"text-center mx-2 main-heading",children:"Movies Directory"}),Object(G.jsx)(J,{handleSearch:function(s){e.setSearchName(s),t.push("/results"+s)}}),Object(G.jsx)("p",{className:"text-center text-purple cursor-pointer mb-0",onClick:function(){return s.current.scrollIntoView({behaviour:"smooth"})},children:"Browse Movies"}),!e.isLoggedIn&&Object(G.jsxs)("p",{className:"m-0 text-center",children:[Object(G.jsx)("span",{className:"text-primary cursor-pointer",onClick:e.toggleModal,children:"Log in"})," for recommendations"]})]})})}),Object(G.jsx)("div",{ref:s,children:Object(G.jsx)($,{popular:e.popular,user:e.user,movies:e.movies,addMovie:e.addMovie,removeMovie:e.removeMovie,updateMovie:e.updateMovie})})]})};var X=function(e){var t=Object(c.useState)({isLoading:!0,results:[],error:null}),s=Object(q.a)(t,2),r=s[0],a=s[1],n=Object(u.g)(null);Object(c.useEffect)((function(){console.log(e.searchName),e.searchName&&i(e.searchName)}),[e.searchName]);var i=function(e){console.log("searching"),a({isLoading:!0,results:[],error:null}),function(e){return new Promise((function(t,s){fetch("https://imdb-api.com/en/API/Search/k_4quk8cra/"+e).then((function(e){return console.log(e),e.json()})).then((function(e){console.log(e),e.errorMessage?s(e.errorMessage):t(e)})).catch((function(e){s(e)}))}))}(e).then((function(e){var t=o(e.results);a({isLoading:!1,results:t,error:null})})).catch((function(e){console.log(e),a({isLoading:!1,results:[],error:e})}))},o=function(t){if(!e.user.isLoggedIn||e.movies.isLoading||e.movies.error)return t;console.log("modifying");var s=t.map((function(t){return e.movies.movies.find((function(e){return e.id===t.id}))||t}));return console.log(s),s};return Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"movies-nav-filler"}),Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("h2",{className:"category-heading text-center",children:"Search Movies"}),Object(G.jsx)("div",{className:"w-50 mx-auto",children:Object(G.jsx)(J,{handleSearch:function(e){n.push("/results"+e)}})}),Object(G.jsx)("div",{className:"text-light results-grid",children:Object(G.jsx)(K,{isLoading:r.isLoading,error:r.error,results:r.results,user:e.user,addMovie:e.addMovie,removeMovie:e.removeMovie,updateMovie:e.updateMovie})})]})]})};var Y=function(e){return e.user.isLoggedIn?e.user.error?Object(G.jsx)("div",{children:"Error"}):Object(G.jsxs)("div",{className:"text-light",children:[Object(G.jsx)("div",{className:"movies-nav-filler"}),Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)("div",{children:Object(G.jsx)("h1",{className:"text-center",children:e.user.user.displayName})}),Object(G.jsxs)("div",{className:"mb-4",children:[Object(G.jsx)("h4",{className:"text-warning",children:"Recommendations"}),Object(G.jsx)("hr",{}),Object(G.jsx)("div",{className:"empty-box",children:"Keep adding movies to get Recommendations"})]}),Object(G.jsxs)("div",{children:[Object(G.jsx)("h4",{children:"My Movie Collection"}),Object(G.jsx)("hr",{}),Object(G.jsx)(K,{isLoading:e.movies.isLoading,error:e.movies.error,results:e.movies.movies,user:e.user,addMovie:e.addMovie,removeMovie:e.removeMovie,updateMovie:e.updateMovie})]})]})]}):Object(G.jsx)("div",{className:"text-light",children:"Loading"})},ee=s(62);var te=function(e){var t=Object(c.useState)("abc@def.com"),s=Object(q.a)(t,2),r=s[0],a=s[1],n=Object(c.useState)(null),i=Object(q.a)(n,2),o=i[0],l=i[1],d=Object(c.useState)(""),u=Object(q.a)(d,2),j=u[0],m=u[1],b=Object(c.useState)(null),h=Object(q.a)(b,2),O=h[0],v=h[1],x=Object(c.useState)(null),g=Object(q.a)(x,2),f=g[0],N=g[1],y=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g,M=function(e){var t=e.target;switch(t.id){case"userEmail":a(t.value),l(y.test(t.value)?null:"Invalid Email");break;case"passWord":m(t.value),v(t.value.length<8?"Password must be at least 8 charaters long":null)}};return Object(G.jsx)("div",{children:Object(G.jsx)("div",{children:Object(G.jsxs)("div",{className:"px-4 my-4",children:[Object(G.jsx)("h2",{className:"text-center mb-4 text-purple",children:"Log In"}),Object(G.jsxs)("form",{onSubmit:function(t){var s,c;o||O||((s=r,c=j,new Promise((function(e,t){p.signInWithEmailAndPassword(s,c).then((function(t){e(t)})).catch((function(e){t(e.code+": "+e.message)}))}))).catch((function(e){N(e)})),e.modalHide()),t.preventDefault()},children:[Object(G.jsxs)("div",{className:"mb-2",children:[Object(G.jsx)("label",{className:"form-label",children:"Email"}),Object(G.jsx)("input",{type:"email",className:"form-control",id:"userEmail",placeholder:"abc@def.com",value:r,onChange:M}),o&&Object(G.jsx)("p",{className:"text-danger",children:o})]}),Object(G.jsxs)("div",{className:"mb-2",children:[Object(G.jsx)("label",{className:"form-label",children:"Password"}),Object(G.jsx)("input",{type:"password",className:"form-control",id:"passWord",placeholder:"",value:j,onChange:M}),O&&Object(G.jsx)("p",{className:"text-danger",children:O})]}),f&&Object(G.jsx)("div",{className:"mb-2 text-danger",children:f}),Object(G.jsx)("div",{children:Object(G.jsx)("button",{type:"submit",className:"btn btn-primary w-100 ",disabled:o||O,children:"Sign In"})})]}),Object(G.jsx)("hr",{}),Object(G.jsxs)("div",{children:["New User ",Object(G.jsx)("span",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){return e.changeState()},children:"Create Account"})]})]})})})};var se=function(e){var t=Object(c.useState)("name"),s=Object(q.a)(t,2),r=s[0],a=s[1],n=Object(c.useState)(null),i=Object(q.a)(n,2),o=i[0],l=i[1],d=Object(c.useState)("abc@def.com"),u=Object(q.a)(d,2),j=u[0],m=u[1],b=Object(c.useState)(null),h=Object(q.a)(b,2),O=h[0],v=h[1],x=Object(c.useState)(""),g=Object(q.a)(x,2),f=g[0],N=g[1],y=Object(c.useState)(null),M=Object(q.a)(y,2),w=M[0],L=M[1],S=Object(c.useState)(""),I=Object(q.a)(S,2),k=I[0],C=I[1],D=Object(c.useState)(null),P=Object(q.a)(D,2),E=P[0],A=P[1],R=Object(c.useState)(null),U=Object(q.a)(R,2),W=U[0],_=U[1],B=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g,H=function(e){var t=e.target;switch(t.id){case"userName":a(t.value),l(t.value.length<4?"Name must be at least 4 charaters long":null);break;case"userEmail":m(t.value),v(B.test(t.value)?null:"Invalid Email");break;case"passWord":N(t.value),L(t.value.length<8?"Password must be at least 8 charaters long":null),A(k===t.value?null:"Password should match");break;case"passWordVerify":C(t.value),A(f===t.value?null:"Password should match")}};return Object(G.jsx)("div",{children:Object(G.jsx)("div",{children:Object(G.jsxs)("div",{className:"px-4 my-4",children:[Object(G.jsx)("h2",{className:"text-center mb-4 text-purple",children:"Create Account"}),Object(G.jsxs)("form",{onSubmit:function(t){var s,c;O||w||E||((s=j,c=f,new Promise((function(e,t){p.createUserWithEmailAndPassword(s,c).then((function(t){e("success")})).catch((function(e){t(e.code+": "+e.message)}))}))).then((function(){return e=r,new Promise((function(t,s){p.currentUser.updateProfile({displayName:e}).then((function(){t("success")})).catch((function(e){s(e.code+": "+e.message)}))}));var e})).then((function(e){console.log(e)})).catch((function(e){_(e)})),e.modalHide()),t.preventDefault()},children:[Object(G.jsxs)("div",{className:"mb-2",children:[Object(G.jsx)("label",{className:"form-label",children:"Name"}),Object(G.jsx)("input",{type:"text",className:"form-control",id:"userName",placeholder:"name",value:r,onChange:H}),o&&Object(G.jsx)("p",{className:"text-danger",children:o})]}),Object(G.jsxs)("div",{className:"mb-2",children:[Object(G.jsx)("label",{className:"form-label",children:"Email"}),Object(G.jsx)("input",{type:"email",className:"form-control",id:"userEmail",placeholder:"abc@def.com",value:j,onChange:H}),O&&Object(G.jsx)("p",{className:"text-danger",children:O})]}),Object(G.jsxs)("div",{className:"mb-2",children:[Object(G.jsx)("label",{className:"form-label",children:"Password"}),Object(G.jsx)("input",{type:"password",className:"form-control",id:"passWord",placeholder:"",value:f,onChange:H}),w&&Object(G.jsx)("p",{className:"text-danger",children:w})]}),Object(G.jsxs)("div",{className:"mb-4",children:[Object(G.jsx)("label",{className:"form-label",children:"Re-enter Password"}),Object(G.jsx)("input",{type:"password",className:"form-control",id:"passWordVerify",placeholder:"",value:k,onChange:H}),E&&Object(G.jsx)("p",{className:"text-danger",children:E})]}),W&&Object(G.jsx)("div",{className:"text-danger",children:W}),Object(G.jsx)("div",{children:Object(G.jsx)("button",{type:"submit",className:"btn btn-primary w-100 ",disabled:O||w||E,children:"Create"})}),Object(G.jsx)("hr",{}),Object(G.jsx)("div",{children:Object(G.jsx)("span",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){return e.changeState()},children:"Sign In"})})]})]})})})};var ce=function(e){var t=Object(c.useState)("signin"),s=Object(q.a)(t,2),r=s[0],a=s[1];return Object(G.jsx)(ee.a,{show:e.show,onHide:e.modalHide,animation:!1,scrollable:!0,children:Object(G.jsx)(ee.a.Body,{className:"m-1 p-1 modal-body text-light",children:Object(G.jsxs)("div",{className:"container ",children:["signin"===r&&Object(G.jsx)(te,{changeState:function(){return a("newuser")},updateUser:e.updateUser,modalHide:e.modalHide}),"newuser"===r&&Object(G.jsx)(se,{changeState:function(){return a("signin")},updateUser:e.updateUser,modalHide:e.modalHide})]})})})},re=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var c;return Object(i.a)(this,s),(c=t.call(this,e)).setSearchName=function(e){c.setState({searchName:e})},c.toggleModal=function(){c.setState({modalShow:!c.state.modalShow})},c.state={searchName:"",modalShow:!1},c}return Object(o.a)(s,[{key:"componentDidMount",value:function(){console.log("mounted"),document.title="Movies Directory",this.props.fetchPopular()}},{key:"render",value:function(){var e=this;return Object(G.jsxs)("div",{children:[Object(G.jsx)(Z,{user:this.props.user,toggleModal:this.toggleModal}),Object(G.jsxs)(u.d,{children:[Object(G.jsx)(u.b,{exact:!0,path:"/",component:function(){return Object(G.jsx)(Q,{isLoggedIn:e.props.user.isLoggedIn,setSearchName:e.setSearchName,toggleModal:e.toggleModal,user:e.props.user,addMovie:e.props.addMovie,removeMovie:e.props.removeMovie,updateMovie:e.props.updateMovie,movies:e.props.movies,popular:e.props.popular})}}),this.props.user.isLoggedIn&&Object(G.jsx)(u.b,{path:"/mymovies",component:function(){return Object(G.jsx)(Y,{user:e.props.user,movies:e.props.movies,addMovie:e.props.addMovie,removeMovie:e.props.removeMovie,updateMovie:e.props.updateMovie})}}),Object(G.jsx)(u.b,{path:"/results:movieName",component:function(t){var s=t.match;return Object(G.jsx)(X,{searchName:s.params.movieName,user:e.props.user,addMovie:e.props.addMovie,removeMovie:e.props.removeMovie,updateMovie:e.props.updateMovie,movies:e.props.movies})}}),Object(G.jsx)(u.a,{to:"/"})]}),Object(G.jsx)(ce,{show:this.state.modalShow,modalHide:this.toggleModal})]})}}]),s}(c.Component),ae=Object(u.h)(Object(j.b)((function(e){return{user:e.user,movies:e.movies,popular:e.popular}}),(function(e){return{addMovie:function(t){return e(function(e){return{type:g,payload:e}}(t))},removeMovie:function(t){return e(function(e){return{type:N,payload:e}}(t))},updateMovie:function(t,s){return e(function(e,t){return{type:y,payload:{firestoreID:e,newRating:t}}}(t,s))},fetchPopular:function(){return e(R())}}}))(re));var ne=function(){return Object(G.jsx)("div",{className:"App",children:Object(G.jsx)(j.a,{store:T,children:Object(G.jsx)(m.a,{children:Object(G.jsx)(ae,{})})})})},ie=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,63)).then((function(t){var s=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,n=t.getTTFB;s(e),c(e),r(e),a(e),n(e)}))};n.a.render(Object(G.jsx)(r.a.StrictMode,{children:Object(G.jsx)(ne,{})}),document.getElementById("root")),ie()}},[[57,1,2]]]);
//# sourceMappingURL=main.c152a85c.chunk.js.map